/* minified v1.1 */
!function(e){let o={getTitle:".title",showTitle:!0,getInfo:".info",showInfo:!1,getPic:"a:first",fullScreen:!0,slideTime:5e3,onOpen:null,onClose:null,onNext:null,onPrev:null},t=0,l=[];function i(o,t){if(!t.length)return;let l=o.key.toLowerCase();switch(l){case"arrowright":e(".mbox-next:visible").trigger("click");break;case"arrowleft":e(".mbox-prev:visible").trigger("click");break;case" ":e(".mbox-play").trigger("click");break;case"escape":e(".mbox-close").trigger("click");break;case"r":e(".mbox-rotate").trigger("click");break;case"c":e(".mbox-screenfit").trigger("click")}}e.fn.mBox=function(m){let x=e.extend({},o,m);return this.each(function(){let m=e(this);if(!m.attr("mbox-id")){let b;do b=t++;while(e(`[mbox-id="${b}"]`).length>0);m.attr("mbox-id",b)}m.attr("mbox-type")||m.attr("mbox-type","image"),m.attr("mbox-full")||m.attr("mbox-full","true"),m.attr("mbox-group")||m.attr("mbox-group","ungrouped"),m.on("click",function(t){t.preventDefault(),function t(m,x){let b=e('<div class="mbox-ctr"></div>'),d=e('<div class="mbox-bg"></div>'),g=e('<div class="mbox-lightbox"></div>').data("currentEl",m),u=e('<div class="mbox-content"></div>'),f=e('<div class="mbox-controls"></div>'),p=m.attr("mbox-group"),v=l.filter(e=>e.attr("mbox-group")===p),h=v.findIndex(e=>e.is(m)),$=v.length,k=e(`<div class="mbox-header">
        <div class="mbox-count">${h+1}/${$}</div>
        <ul class="mbox-actions">
          <li class="mbox-play"></li><li class="mbox-rotate"></li><li class="mbox-screenfit"></li><li class="mbox-fullscreen"></li><li class="mbox-close"></li>
        </ul>
      </div>`),y=e(`<div class="mbox-footer">
        <div xtitle="social Icons will go here in future" class="mbox-icons"></div>
        <div tabindex="0" class="mbox-descr">
          <div class="mbox-title"></div>
          <div class="mbox-info-ctr"><div class="mbox-info"></div></div>
        </div>
        <div class="mbox-preload"></div>
        <div class="mbox-progress-out"><div class="mbox-progress" style="width: 0%;"></div></div>
      </div>`),w=e('<div class="mbox-prev"></div>').toggle(h>0),C=e('<div class="mbox-next"></div>').toggle(h<$-1);g.append(u,k,y),f.append(w,C),g.append(f),b.append(d,g),0===e(".mbox-main-body").length?e("body").wrapInner('<div class="mbox-main-body mbox-blur"></div>'):e(".mbox-main-body").addClass("mbox-blur"),e("body").append(b),!0===x.fullScreen&&n(),c(m,h,$,x),b.on("click",".mbox-close",()=>{var o,t;return o=b,t=x,void(o.remove(),e(".mbox-main-body").removeClass("mbox-blur"),e(document).off("keydown",i),t.onClose&&t.onClose())}),w.on("click",()=>a(-1,h,v,x)),C.on("click",()=>a(1,h,v,x)),e(".mbox-screenfit").on("click",()=>void(e("body").hasClass("mbox-zoomfit")?e("body").removeClass("mbox-zoomfit"):e("body").addClass("mbox-zoomfit"))),e(".mbox-rotate").on("click",()=>(function o(){let t=e(".mbox-main-img"),l=parseInt(t.attr("mbox-deg"));if(isNaN(l)&&(l=0),360==(l+=90)&&(l=0),90==l||270==l){let i=e(window).height(),r=e(window).height();t.css({transform:"rotate("+l+"deg)",width:i+"px",height:r+"px"})}else t.css({transform:"rotate("+l+"deg)",width:"",height:""});t.attr("mbox-deg",l)})()),e(".mbox-fullscreen").on("click",()=>n()),e(".mbox-play").on("click",()=>(function t(){let l=e(".mbox-play"),i=e(".mbox-progress-out"),n=e(".mbox-progress"),a=e.extend({},o);if(l.hasClass("mbox-pause"))l.removeClass("mbox-pause"),i.hide(),n.css("width","0%"),clearTimeout(r),clearTimeout(s),r=null,s=null;else{l.addClass("mbox-pause"),i.show();let c=a.slideTime||5e3,m=0;function x(){m+=1e3;let e=m/c*100;n.css("width",`${e}%`),m<c&&l.hasClass("mbox-pause")&&(s=setTimeout(x,1e3))}function b(){let o=e(".mbox-next:visible"),i=e(".mbox-preload-next").length>0;l.hasClass("mbox-pause")&&!i?o.length>0?(m=0,o.trigger("click"),x(),r=setTimeout(b,c)):t():i&&(r=setTimeout(b,500))}x(),r=setTimeout(b,c)}})()),e(".mbox-descr").on("mouseenter",()=>e(".mbox-info").slideDown("fast")),e(".mbox-descr").on("mouseleave",()=>e(".mbox-info").slideUp("fast")),e(document).on("keydown",e=>i(e,b)),x.onOpen&&x.onOpen(m,g)}(m,x)}),l.push(m)}),this};let r=null,s=null;function n(){let o=e(".mbox-ctr");o.length&&(document.fullscreenElement?document.exitFullscreen().then(()=>{e(".mbox-fullscreen").removeClass("mbox-restore")}).catch(e=>{console.error("Error exiting fullscreen:",e)}):o[0].requestFullscreen().then(()=>{e(".mbox-fullscreen").addClass("mbox-restore")}).catch(e=>{console.error("Error entering fullscreen:",e)}))}function a(o,t,l,i){let r=e(".mbox-lightbox").data("currentEl"),s=l.findIndex(e=>e.is(r)),n=s+o;if(n<0||n>=l.length)return;let a=l[n];c(a,n,l.length,i),e(".mbox-lightbox").data("currentEl",a),1===o&&i.onNext&&i.onNext(a),-1===o&&i.onPrev&&i.onPrev(a)}function c(o,t,i,r){let s=e(".mbox-lightbox"),n=s.find(".mbox-content"),a=s.find(".mbox-header"),c=o.find(r.getTitle).text()||"",m=o.find(r.getInfo).html()||"";a.find(".mbox-count").text(`${t+1}/${i}`),e(".mbox-title").html(`${c}`),e(".mbox-info").html(`${m}`);let x=o.find(r.getPic+" img:first").attr("src");n.html(`
    <img src="${x}" class="mbox-main-img" />
    <div class="mbox-loading"></div>
  `);let b=o.find(r.getPic).attr("href");e(".mbox-preload").append(`<img src="${b}" alt="preloading current" class="mbox-preload-current" />`);let d=l.filter(e=>e.attr("mbox-group")===o.attr("mbox-group")),g=[];if(t+1<i){let u=d[t+1],f=u.find(r.getPic).attr("href");g.push(`<img src="${f}" alt="preloading next" class="mbox-preload-next" />`)}if(t-1>=0){let p=d[t-1],v=p.find(r.getPic).attr("href");g.push(`<img src="${v}" alt="preloading previous" class="mbox-preload-prev" />`)}e(".mbox-preload").append(g.join("")),e(".mbox-preload-prev, .mbox-preload-next").on("load",function(){e(this).remove()}),e(".mbox-preload-current").on("load",function(){let o=e(this).attr("src");e(".mbox-main-img").attr("src",o),e(".mbox-loading").remove(),e(this).remove()});let h=e(".mbox-prev"),$=e(".mbox-next");h.toggle(t>0),$.toggle(t<i-1)}}(jQuery);